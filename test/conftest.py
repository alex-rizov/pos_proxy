
import pytest
import asyncio
import sys, os
import configparser
from  MockAsyncIOTCPServer import MockTCPServer
sys.path.append(os.path.realpath(os.path.dirname(__file__)+"/.."))
from pos_proxy.passport_handler import PassportHandler
from pos_proxy.client import SocketClient
from pos_proxy.dispatcher import Dispatcher, DispatcherServer


PORT_NMB_MOCK = 18898
PORT_NMB_MOCK_2 = 18899
PORT_NMB_DISPATCHER = 17898

GOOD_PASSPORT_ONL_STATUS = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xa4\x01\x00\x00\x5b\xf9\xaa\x88\x98\x1e\xbc\xa2\x3c\x47\x65\x74\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x6e\x6c\x69\x6e\x65\x53\x74\x61\x74\x75\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x30\x2d\x30\x5e\x32\x33\x31\x39\x37\x31\x38\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x2f\x47\x65\x74\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x6e\x6c\x69\x6e\x65\x53\x74\x61\x74\x75\x73\x52\x65\x71\x75\x65\x73\x74\x3e'

END_CUSTOMER_REQUEST = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\x8e\x01\x00\x00\x28\xa0\x5c\x8c\x69\xf8\x66\x95\x3c\x45\x6e\x64\x43\x75\x73\x74\x6f\x6d\x65\x72\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x32\x2d\x30\x5e\x32\x33\x31\x39\x37\x35\x39\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x2f\x45\x6e\x64\x43\x75\x73\x74\x6f\x6d\x65\x72\x52\x65\x71\x75\x65\x73\x74\x3e'

GET_REWARDS_REQUEST = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xb2\x08\x00\x00\x28\x39\x2e\xa4\x79\xcb\xe2\x08\x3c\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x36\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x20\x65\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3d\x22\x73\x63\x61\x6e\x22\x3e\x34\x32\x35\x30\x36\x30\x35\x39\x37\x30\x30\x38\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x3e\x3c\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x3e\x3c\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x31\x3c\x2f\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x3c\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x35\x3c\x2f\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x3c\x54\x69\x6c\x6c\x49\x44\x3e\x30\x30\x30\x30\x30\x30\x30\x30\x33\x38\x39\x36\x3c\x2f\x54\x69\x6c\x6c\x49\x44\x3e\x3c\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x33\x36\x36\x38\x3c\x2f\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x3c\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x64\x61\x79\x22\x3e\x34\x37\x33\x3c\x2f\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x63\x61\x73\x68\x69\x65\x72\x22\x3e\x34\x37\x33\x3c\x2f\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x3c\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x30\x30\x3a\x31\x36\x3a\x30\x39\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x3c\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x31\x30\x30\x2d\x30\x31\x2d\x30\x31\x3c\x2f\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x30\x3a\x30\x30\x3a\x30\x30\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x31\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x49\x74\x65\x6d\x4c\x69\x6e\x65\x20\x64\x69\x73\x63\x6f\x75\x6e\x74\x61\x62\x6c\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x75\x70\x63\x41\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x3e\x34\x30\x32\x39\x30\x30\x33\x30\x30\x31\x36\x35\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x20\x6e\x61\x6d\x65\x3d\x22\x70\x63\x22\x3e\x30\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x3e\x3c\x2f\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x32\x39\x3c\x2f\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x3c\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x53\x41\x55\x53\x20\x4c\x49\x4e\x4b\x20\x53\x49\x44\x45\x3c\x2f\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6d\x61\x6e\x75\x61\x6c\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x3c\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x3c\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x31\x3c\x2f\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x3c\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x34\x3c\x2f\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x3c\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x34\x30\x30\x3c\x2f\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x3c\x2f\x49\x74\x65\x6d\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x32\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x2f\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e'
CARD_IN_GRR = '425060597008'

GET_REWARDS_REQUEST_2_INVALID = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xb2\x08\x00\x00\x28\x39\x2e\xa4\x79\xcb\xe2\x08\x3c\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x36\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x20\x65\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3d\x22\x73\x63\x61\x6e\x22\x3e\x34\x32\x35\x30\x37\x30\x35\x39\x37\x30\x30\x38\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x3e\x3c\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x3e\x3c\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x31\x3c\x2f\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x3c\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x35\x3c\x2f\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x3c\x54\x69\x6c\x6c\x49\x44\x3e\x30\x30\x30\x30\x30\x30\x30\x30\x33\x38\x39\x36\x3c\x2f\x54\x69\x6c\x6c\x49\x44\x3e\x3c\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x33\x36\x36\x38\x3c\x2f\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x3c\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x64\x61\x79\x22\x3e\x34\x37\x33\x3c\x2f\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x63\x61\x73\x68\x69\x65\x72\x22\x3e\x34\x37\x33\x3c\x2f\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x3c\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x30\x30\x3a\x31\x36\x3a\x30\x39\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x3c\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x31\x30\x30\x2d\x30\x31\x2d\x30\x31\x3c\x2f\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x30\x3a\x30\x30\x3a\x30\x30\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x31\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x49\x74\x65\x6d\x4c\x69\x6e\x65\x20\x64\x69\x73\x63\x6f\x75\x6e\x74\x61\x62\x6c\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x75\x70\x63\x41\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x3e\x34\x30\x32\x39\x30\x30\x33\x30\x30\x31\x36\x35\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x20\x6e\x61\x6d\x65\x3d\x22\x70\x63\x22\x3e\x30\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x3e\x3c\x2f\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x32\x39\x3c\x2f\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x3c\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x53\x41\x55\x53\x20\x4c\x49\x4e\x4b\x20\x53\x49\x44\x45\x3c\x2f\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6d\x61\x6e\x75\x61\x6c\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x3c\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x3c\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x31\x3c\x2f\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x3c\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x34\x3c\x2f\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x3c\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x34\x30\x30\x3c\x2f\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x3c\x2f\x49\x74\x65\x6d\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x32\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x2f\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e'
GET_REWARDS_REQUEST_2_VALID = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xb2\x08\x00\x00\xd4\xfc\x32\xbe\xea\x92\x23\x48\x3c\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x36\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x20\x65\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3d\x22\x73\x63\x61\x6e\x22\x3e\x34\x32\x35\x30\x37\x30\x35\x39\x37\x30\x30\x38\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x3e\x3c\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x3e\x3c\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x31\x3c\x2f\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x3c\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x35\x3c\x2f\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x3c\x54\x69\x6c\x6c\x49\x44\x3e\x30\x30\x30\x30\x30\x30\x30\x30\x33\x38\x39\x36\x3c\x2f\x54\x69\x6c\x6c\x49\x44\x3e\x3c\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x33\x36\x36\x38\x3c\x2f\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x3c\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x64\x61\x79\x22\x3e\x34\x37\x33\x3c\x2f\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x63\x61\x73\x68\x69\x65\x72\x22\x3e\x34\x37\x33\x3c\x2f\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x3c\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x30\x30\x3a\x31\x36\x3a\x30\x39\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x3c\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x31\x30\x30\x2d\x30\x31\x2d\x30\x31\x3c\x2f\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x30\x3a\x30\x30\x3a\x30\x30\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x31\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x49\x74\x65\x6d\x4c\x69\x6e\x65\x20\x64\x69\x73\x63\x6f\x75\x6e\x74\x61\x62\x6c\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x75\x70\x63\x41\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x3e\x34\x30\x32\x39\x30\x30\x33\x30\x30\x31\x36\x35\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x20\x6e\x61\x6d\x65\x3d\x22\x70\x63\x22\x3e\x30\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x3e\x3c\x2f\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x32\x39\x3c\x2f\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x3c\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x53\x41\x55\x53\x20\x4c\x49\x4e\x4b\x20\x53\x49\x44\x45\x3c\x2f\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6d\x61\x6e\x75\x61\x6c\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x3c\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x3c\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x31\x3c\x2f\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x3c\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x34\x3c\x2f\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x3c\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x34\x30\x30\x3c\x2f\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x3c\x2f\x49\x74\x65\x6d\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x32\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x2f\x47\x65\x74\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e'
CARD_IN_GRR_2 = '425070597008'


FINALIZE_REWARDS_REQUEST = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xb9\x0b\x00\x00\xfd\xd9\xd6\xeb\x0d\x63\x0e\xe6\x3c\x46\x69\x6e\x61\x6c\x69\x7a\x65\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x38\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x36\x5e\x2d\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x20\x65\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3d\x22\x73\x63\x61\x6e\x22\x3e\x34\x32\x35\x30\x36\x30\x35\x39\x37\x30\x30\x38\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x3e\x3c\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x3e\x3c\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x31\x3c\x2f\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x3c\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x35\x3c\x2f\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x3c\x54\x69\x6c\x6c\x49\x44\x3e\x30\x30\x30\x30\x30\x30\x30\x30\x33\x38\x39\x36\x3c\x2f\x54\x69\x6c\x6c\x49\x44\x3e\x3c\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x33\x36\x36\x38\x3c\x2f\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x3c\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x64\x61\x79\x22\x3e\x34\x37\x33\x3c\x2f\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x63\x61\x73\x68\x69\x65\x72\x22\x3e\x34\x37\x33\x3c\x2f\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x3c\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x30\x30\x3a\x31\x36\x3a\x30\x39\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x3c\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x31\x30\x30\x2d\x30\x31\x2d\x30\x31\x3c\x2f\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x30\x3a\x30\x30\x3a\x30\x30\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x3c\x45\x76\x65\x6e\x74\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x31\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x49\x74\x65\x6d\x4c\x69\x6e\x65\x20\x64\x69\x73\x63\x6f\x75\x6e\x74\x61\x62\x6c\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x75\x70\x63\x41\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x3e\x34\x30\x32\x39\x30\x30\x33\x30\x30\x31\x36\x35\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x20\x6e\x61\x6d\x65\x3d\x22\x70\x63\x22\x3e\x30\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x3e\x3c\x2f\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x32\x39\x3c\x2f\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x3c\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x53\x41\x55\x53\x20\x4c\x49\x4e\x4b\x20\x53\x49\x44\x45\x3c\x2f\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6d\x61\x6e\x75\x61\x6c\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x3c\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x3c\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x31\x3c\x2f\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x3c\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x34\x3c\x2f\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x3c\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x34\x30\x30\x3c\x2f\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x3c\x2f\x49\x74\x65\x6d\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x32\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x33\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x63\x61\x73\x68\x3c\x2f\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x3c\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x67\x65\x6e\x65\x72\x69\x63\x3c\x2f\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x3c\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x2f\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x32\x30\x3c\x2f\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6f\x74\x68\x65\x72\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x2f\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x34\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x63\x61\x73\x68\x3c\x2f\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x3c\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x67\x65\x6e\x65\x72\x69\x63\x3c\x2f\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x3c\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x2f\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x31\x35\x2e\x33\x31\x3c\x2f\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x2f\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6f\x74\x68\x65\x72\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x2f\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x2f\x46\x69\x6e\x61\x6c\x69\x7a\x65\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e'
CARD_IN_FRR = '425060597008'
SESSION_IN_FRR = '01-3668^2347496^-Sierra #16'

FINALIZE_REWARDS_REQUEST_2_INVALID = b'\x50\x4f\x53\x4c\x4f\x59\x41\x4c\x54\x59\x00\x00\x01\x00\x00\x00\xb9\x0b\x00\x00\xfd\xd9\xd6\xeb\x0d\x63\x0e\xe6\x3c\x46\x69\x6e\x61\x6c\x69\x7a\x65\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e\x3c\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x31\x2e\x32\x3c\x2f\x50\x4f\x53\x4c\x6f\x79\x61\x6c\x74\x79\x49\x6e\x74\x65\x72\x66\x61\x63\x65\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x47\x69\x6c\x62\x61\x72\x63\x6f\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4e\x61\x6d\x65\x3e\x3c\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x30\x37\x2e\x32\x34\x2e\x30\x31\x2e\x30\x31\x47\x3c\x2f\x56\x65\x6e\x64\x6f\x72\x4d\x6f\x64\x65\x6c\x56\x65\x72\x73\x69\x6f\x6e\x3e\x3c\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x32\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x38\x5e\x3c\x2f\x50\x4f\x53\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x30\x31\x2d\x33\x36\x36\x38\x5e\x32\x33\x34\x37\x34\x39\x36\x5e\x2d\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x53\x65\x71\x75\x65\x6e\x63\x65\x49\x44\x3e\x3c\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x53\x69\x65\x72\x72\x61\x20\x23\x31\x36\x3c\x2f\x53\x74\x6f\x72\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x4f\x66\x66\x6c\x69\x6e\x65\x46\x6c\x61\x67\x3e\x3c\x2f\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x20\x65\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3d\x22\x73\x63\x61\x6e\x22\x3e\x34\x32\x35\x30\x37\x30\x35\x39\x37\x30\x30\x38\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x49\x44\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x54\x72\x61\x69\x6e\x69\x6e\x67\x4d\x6f\x64\x65\x46\x6c\x61\x67\x3e\x3c\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x4f\x75\x74\x73\x69\x64\x65\x53\x61\x6c\x65\x73\x46\x6c\x61\x67\x3e\x3c\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x31\x3c\x2f\x52\x65\x67\x69\x73\x74\x65\x72\x49\x44\x3e\x3c\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x35\x3c\x2f\x43\x61\x73\x68\x69\x65\x72\x49\x44\x3e\x3c\x54\x69\x6c\x6c\x49\x44\x3e\x30\x30\x30\x30\x30\x30\x30\x30\x33\x38\x39\x36\x3c\x2f\x54\x69\x6c\x6c\x49\x44\x3e\x3c\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x33\x36\x36\x38\x3c\x2f\x50\x4f\x53\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x44\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x44\x61\x74\x65\x3e\x3c\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x64\x61\x79\x22\x3e\x34\x37\x33\x3c\x2f\x50\x72\x69\x6d\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x20\x69\x6e\x74\x65\x72\x76\x61\x6c\x3d\x22\x63\x61\x73\x68\x69\x65\x72\x22\x3e\x34\x37\x33\x3c\x2f\x53\x65\x63\x6f\x6e\x64\x61\x72\x79\x52\x65\x70\x6f\x72\x74\x50\x65\x72\x69\x6f\x64\x3e\x3c\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x42\x65\x67\x69\x6e\x44\x61\x74\x65\x3e\x3c\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x30\x30\x3a\x31\x36\x3a\x30\x39\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x42\x65\x67\x69\x6e\x54\x69\x6d\x65\x3e\x3c\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x31\x30\x30\x2d\x30\x31\x2d\x30\x31\x3c\x2f\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x30\x3a\x30\x30\x3a\x30\x30\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x42\x75\x73\x69\x6e\x65\x73\x73\x50\x65\x72\x69\x6f\x64\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x53\x74\x61\x72\x74\x54\x69\x6d\x65\x3e\x3c\x45\x76\x65\x6e\x74\x45\x6e\x64\x44\x61\x74\x65\x3e\x32\x30\x32\x30\x2d\x30\x33\x2d\x32\x33\x3c\x2f\x45\x76\x65\x6e\x74\x45\x6e\x64\x44\x61\x74\x65\x3e\x3c\x45\x76\x65\x6e\x74\x45\x6e\x64\x54\x69\x6d\x65\x3e\x30\x39\x3a\x35\x36\x3a\x33\x31\x2d\x30\x37\x3a\x30\x30\x3c\x2f\x45\x76\x65\x6e\x74\x45\x6e\x64\x54\x69\x6d\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x48\x65\x61\x64\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x31\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x49\x74\x65\x6d\x4c\x69\x6e\x65\x20\x64\x69\x73\x63\x6f\x75\x6e\x74\x61\x62\x6c\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x75\x70\x63\x41\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x46\x6f\x72\x6d\x61\x74\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x3e\x34\x30\x32\x39\x30\x30\x33\x30\x30\x31\x36\x35\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x3e\x3c\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x20\x6e\x61\x6d\x65\x3d\x22\x70\x63\x22\x3e\x30\x3c\x2f\x50\x4f\x53\x43\x6f\x64\x65\x4d\x6f\x64\x69\x66\x69\x65\x72\x3e\x3c\x2f\x49\x74\x65\x6d\x43\x6f\x64\x65\x3e\x3c\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x32\x39\x3c\x2f\x4d\x65\x72\x63\x68\x61\x6e\x64\x69\x73\x65\x43\x6f\x64\x65\x3e\x3c\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x53\x41\x55\x53\x20\x4c\x49\x4e\x4b\x20\x53\x49\x44\x45\x3c\x2f\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6d\x61\x6e\x75\x61\x6c\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x41\x63\x74\x75\x61\x6c\x53\x61\x6c\x65\x73\x50\x72\x69\x63\x65\x3e\x3c\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x31\x2e\x30\x39\x3c\x2f\x52\x65\x67\x75\x6c\x61\x72\x53\x65\x6c\x6c\x50\x72\x69\x63\x65\x3e\x3c\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x31\x3c\x2f\x53\x65\x6c\x6c\x69\x6e\x67\x55\x6e\x69\x74\x73\x3e\x3c\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x34\x3c\x2f\x53\x61\x6c\x65\x73\x51\x75\x61\x6e\x74\x69\x74\x79\x3e\x3c\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x49\x74\x65\x6d\x54\x61\x78\x3e\x3c\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x34\x30\x30\x3c\x2f\x50\x61\x79\x6d\x65\x6e\x74\x53\x79\x73\x74\x65\x6d\x73\x50\x72\x6f\x64\x75\x63\x74\x43\x6f\x64\x65\x3e\x3c\x2f\x49\x74\x65\x6d\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x32\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x31\x30\x31\x3c\x2f\x54\x61\x78\x4c\x65\x76\x65\x6c\x49\x44\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x34\x2e\x33\x36\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x2e\x33\x33\x3c\x2f\x54\x61\x78\x43\x6f\x6c\x6c\x65\x63\x74\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x61\x62\x6c\x65\x53\x61\x6c\x65\x73\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x30\x3c\x2f\x54\x61\x78\x52\x65\x66\x75\x6e\x64\x65\x64\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x54\x61\x78\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x33\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x63\x61\x73\x68\x3c\x2f\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x3c\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x67\x65\x6e\x65\x72\x69\x63\x3c\x2f\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x3c\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x2f\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x32\x30\x3c\x2f\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x6e\x6f\x22\x3e\x3c\x2f\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6f\x74\x68\x65\x72\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x2f\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x20\x73\x74\x61\x74\x75\x73\x3d\x22\x6e\x6f\x72\x6d\x61\x6c\x22\x3e\x3c\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x34\x3c\x2f\x4c\x69\x6e\x65\x4e\x75\x6d\x62\x65\x72\x3e\x3c\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x63\x61\x73\x68\x3c\x2f\x54\x65\x6e\x64\x65\x72\x43\x6f\x64\x65\x3e\x3c\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x67\x65\x6e\x65\x72\x69\x63\x3c\x2f\x54\x65\x6e\x64\x65\x72\x53\x75\x62\x43\x6f\x64\x65\x3e\x3c\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x2f\x49\x53\x4f\x50\x72\x65\x66\x69\x78\x3e\x3c\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x2f\x4c\x6f\x79\x61\x6c\x74\x79\x52\x65\x77\x61\x72\x64\x49\x44\x3e\x3c\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x31\x35\x2e\x33\x31\x3c\x2f\x54\x65\x6e\x64\x65\x72\x41\x6d\x6f\x75\x6e\x74\x3e\x3c\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x20\x76\x61\x6c\x75\x65\x3d\x22\x79\x65\x73\x22\x3e\x3c\x2f\x43\x68\x61\x6e\x67\x65\x46\x6c\x61\x67\x3e\x3c\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x6f\x74\x68\x65\x72\x3c\x2f\x45\x6e\x74\x72\x79\x4d\x65\x74\x68\x6f\x64\x3e\x3c\x2f\x54\x65\x6e\x64\x65\x72\x49\x6e\x66\x6f\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x4c\x69\x6e\x65\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x65\x74\x61\x69\x6c\x47\x72\x6f\x75\x70\x3e\x3c\x2f\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61\x3e\x3c\x2f\x46\x69\x6e\x61\x6c\x69\x7a\x65\x52\x65\x77\x61\x72\x64\x73\x52\x65\x71\x75\x65\x73\x74\x3e'
CARD_IN_FRR_2 = '425070597008'
SESSION_IN_FRR_2 = '02-3668^2347496^-Sierra #16'

@pytest.fixture()
async def mock_tcp_server():        
    server = MockTCPServer(port = PORT_NMB_MOCK)
    await server.listen()
    yield server
    await server.close()  

@pytest.fixture()
async def mock_tcp_server_2():        
    server = MockTCPServer(port = PORT_NMB_MOCK_2)
    await server.listen()
    yield server
    await server.close()  

@pytest.fixture()
async def slow_tcp_server():        
    server = MockTCPServer(port = PORT_NMB_MOCK, timeout = True)
    await server.listen()
    yield server
    await server.close()  

@pytest.fixture()
async def echo_reader_writer(mock_tcp_server):        
    reader, writer = await asyncio.open_connection(
        '127.0.0.1', PORT_NMB_MOCK)    
    yield reader, writer
    writer.close()
    await writer.wait_closed()

@pytest.fixture()
async def good_passport_client(mock_tcp_server):
    client = SocketClient(PassportHandler(), '127.0.0.1', PORT_NMB_MOCK, masks='4250605')
    yield client
    await client.disconnect()

@pytest.fixture()
async def bad_passport_client(mock_tcp_server):
    client = SocketClient(PassportHandler(), '127.0.0.1', PORT_NMB_MOCK + 1)
    yield client
    await client.disconnect()

@pytest.fixture()
async def impatient_passport_client(slow_tcp_server):
    client = SocketClient(PassportHandler(), '127.0.0.1', PORT_NMB_MOCK, response_timeout=1)
    yield client
    await client.disconnect()

@pytest.fixture()
async def mute_passport_dispatcher(good_passport_client):
    async with Dispatcher(None, None, [good_passport_client], PassportHandler(), session_handler = None) as dispatcher:       
        yield dispatcher


@pytest.fixture()
def server_good_passport_config():
    config = configparser.ConfigParser()
    config['HOST'] = { 'Port' : str(PORT_NMB_DISPATCHER), 
                        'PosType' : 'PASSPORT'}     
    config['TEST_CLIENT'] = { 'Remote' : '127.0.0.1',
                                'Port' : str(PORT_NMB_MOCK),
                                'CardMasks' : '4250605'}    
    return config

@pytest.fixture()
async def good_passport_dispatcher_server(server_good_passport_config, mock_tcp_server):
    async with DispatcherServer(server_good_passport_config, session_handler = None) as server:
        yield server


@pytest.fixture()
async def server_passport_reader_writer(good_passport_dispatcher_server):
    reader, writer = await asyncio.open_connection(
        '127.0.0.1', PORT_NMB_DISPATCHER)    
    yield reader, writer
    writer.close()
    await writer.wait_closed()

@pytest.fixture()
def server_multi_passport_config():
    config = configparser.ConfigParser()
    config['HOST'] = { 'Port' : str(PORT_NMB_DISPATCHER), 
                        'PosType' : 'PASSPORT'}     
    config['TEST_CLIENT'] = { 'Remote' : '127.0.0.1',
                                'Port' : str(PORT_NMB_MOCK),
                                'CardMasks' : '4250605'}    
    config['TEST_CLIENT_2'] = { 'Remote' : '127.0.0.1',
                                'Port' : str(PORT_NMB_MOCK_2),
                                'CardMasks' : '4250705'} 
    return config

@pytest.fixture()
async def multi_passport_dispatcher_server(server_multi_passport_config):
    async with DispatcherServer(server_multi_passport_config, session_handler = None) as server:
        yield server

@pytest.fixture()
async def server_multi_passport_reader_writer(multi_passport_dispatcher_server, mock_tcp_server, mock_tcp_server_2):
    reader, writer = await asyncio.open_connection(
        '127.0.0.1', PORT_NMB_DISPATCHER)    
    yield reader, writer, mock_tcp_server, mock_tcp_server_2
    writer.close()
    await writer.wait_closed()

@pytest.fixture()
async def server_multi_passport_reader_writer_one_times_out(multi_passport_dispatcher_server, slow_tcp_server, mock_tcp_server_2):
    reader, writer = await asyncio.open_connection(
        '127.0.0.1', PORT_NMB_DISPATCHER)    
    yield reader, writer, slow_tcp_server, mock_tcp_server_2
    writer.close()
    await writer.wait_closed()